# Assignment 3

## 1 Unit Testing

### Documentation

The tests are written using Python's pytest framework, which had to be installed using `pip3 install pytest` in the terminal. For viewing the test coverage, the addition to pytest was installed using `pip3 install pytest-cov`.

#### test_assembler.py

- **Purpose**: The purpose of the `test_assembler.py` file is to validate the funcionality of the `assembler.py` program, which can be found in the `debugger` and `vm` folder. the assembler converts assembly language instruction (found in folder `exercise_1/assemblyPrograms`) into machine code (found in folder `exercise_1/vmInstructions`). The test in the `test_assembler.py` file ensure that the conversion is correct by targeting each assembly program with a specific test function.

- **subprocess**: All functions first generate the corresponding `.mx` file, because the test need to ensure that the values in those `.mx` files, which were generated by the assembler, are correct.

- **basic_operation_program (basicOp)**: This test function tests the assembler if it correctly translated the basic arithemetic `virtual machine op-codes` from the assembly program found in `exercise_1/assemblyPrograms/basicOp.as` to the virtual machine instructions found in `exercise_1/vmInstructions/basicOp.mx`. The values in the `.mx` file are then compared to the calculated values in the variable `expected_output`.

- **print_memory_program (copyPrntMem)**: This test function tests the assembler if it correctly translated the print and memory `virtual machine op-codes` from the assembly program found in `exercise_1/assemblyPrograms/copyPrntMem.as` to the virtual machine instructions found in `exercise_1/vmInstructions/copyPrntMem.mx`. The values in the `.mx` file are then compared to the calculated values in the variable `expected_output`.

- **memory_operations_branch_equal_program (memOpBeq)**: This test function tests the assembler if it correctly translated the memory and branch equal `virtual machine op-codes` from the assembly program found in `exercise_1/assemblyPrograms/memOpBeq.as` to the virtual machine instructions found in `exercise_1/vmInstructions/memOpBeq.mx`. The values in the `.mx` file are then compared to the calculated values in the variable `expected_output`.

- **memory_operations_branch_notEqual_program (memOpBne)**: This test function tests the assembler if it correctly translated the memory and branch not equal `virtual machine op-codes` from the assembly program found in `exercise_1/assemblyPrograms/memOpBne.as` to the virtual machine instructions found in `exercise_1/vmInstructions/memOpBne.mx`. The values in the `.mx` file are then compared to the calculated values in the variable `expected_output`.

With these test, it is ensured that **all 11** `virtual machine op-codes` were correctly translated by the assembler.

#### test_vm.py

### Decisions Taken

**Simulate Terminal Input**

- **subprocess**: The task stated that each `.as` file had to be run through the assembler for creating its corresponding `.mx` file. Therefore the module `subprocess` was used, to simulate the terminal input for generating the corresponding `.mx` files by the assembler.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

## 2 Disassembler

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

## 3 New features and Problems - Assembler

### 3.1 Increment and Decrement

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python assembler.py ../exercise_3/example_3_1.as ../exercise_3/output_3_1.mx python vm.py ../exercise_3/output_3_1.mx -`

### 3.2 Swap values

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

### 3.3 Reverse array in place

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

## 4 New features - Debugger

### 4.1 Show Memory Range

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

### 4.2 Breakpoint Addresses

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

### 4.3 Command Completion

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

### 4.4 Watchpoints

#### Documentation

- **Example**: example text: `example function`.

#### Decisions Taken

**Example**

- example text: `example function`.

#### Execution

- the following line has to be executed in the terminal for the code to work with the LGL: `python`

Task 3 execution:
inside vm folder run:

python assembler.py ../exercise_3/example_3_2.as ../exercise_3/output_3_2.mx
python vm.py ../exercise_3/output_3_2.mx -

python assembler.py ../exercise_3/example_3_3.as ../exercise_3/output_3_3.mx
python vm.py ../exercise_3/output_3_3.mx -
